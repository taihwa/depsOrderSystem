"use strict";(self["webpackChunkjumun"]=self["webpackChunkjumun"]||[]).push([[612],{2612:(e,a,t)=>{t.r(a),t.d(a,{default:()=>I});var u=t(3673),l=t(2323);const s={class:"row"},n={class:"col"},o={class:"text-h6"},i={class:"text-subtitle2"},d=(0,u.Uk)("메뉴"),r=(0,u.Uk)("주문하기"),m=(0,u._)("div",{class:"text-h6"},"오류",-1),c=(0,u.Uk)(" 주문자를 선택해 주세요 ");function p(e,a,t,p,_,w){const h=(0,u.up)("q-input"),f=(0,u.up)("q-card-section"),j=(0,u.up)("q-card"),g=(0,u.up)("q-item-label"),W=(0,u.up)("q-checkbox"),b=(0,u.up)("q-item-section"),q=(0,u.up)("q-item"),Z=(0,u.up)("q-list"),k=(0,u.up)("q-btn"),Q=(0,u.up)("q-space"),v=(0,u.up)("q-dialog"),U=(0,u.up)("q-page"),V=(0,u.Q2)("ripple"),C=(0,u.Q2)("close-popup");return(0,u.wg)(),(0,u.j4)(U,null,{default:(0,u.w5)((()=>[(0,u._)("div",s,[(0,u._)("div",n,[(0,u.Wm)(j,{class:"my-card"},{default:(0,u.w5)((()=>[(0,u.Wm)(f,null,{default:(0,u.w5)((()=>[(0,u._)("div",o,(0,l.zw)(e.store_name)+"("+(0,l.zw)(e.creator)+")",1),(0,u._)("div",i,[(0,u.Wm)(h,{outlined:"",modelValue:e.jumunja,"onUpdate:modelValue":a[0]||(a[0]=a=>e.jumunja=a),label:"주문자 이름"},null,8,["modelValue"])])])),_:1})])),_:1}),(0,u.Wm)(Z,null,{default:(0,u.w5)((()=>[(0,u.Wm)(g,{header:""},{default:(0,u.w5)((()=>[d])),_:1}),((0,u.wg)(!0),(0,u.iD)(u.HY,null,(0,u.Ko)(e.menuList,(t=>(0,u.wy)(((0,u.wg)(),(0,u.j4)(q,{tag:"label",key:t.id},{default:(0,u.w5)((()=>[(0,u.Wm)(b,{side:"",top:""},{default:(0,u.w5)((()=>[(0,u.Wm)(W,{modelValue:e.selection,"onUpdate:modelValue":a[1]||(a[1]=a=>e.selection=a),val:t.id,color:"orange"},null,8,["modelValue","val"])])),_:2},1024),(0,u.Wm)(b,null,{default:(0,u.w5)((()=>[(0,u.Wm)(g,null,{default:(0,u.w5)((()=>[(0,u.Uk)((0,l.zw)(t.name),1)])),_:2},1024),(0,u.Wm)(g,{caption:""},{default:(0,u.w5)((()=>[(0,u.Uk)((0,l.zw)(t.price)+"원 ",1)])),_:2},1024)])),_:2},1024)])),_:2},1024)),[[V]]))),128))])),_:1})])]),(0,u.Wm)(k,{onClick:a[2]||(a[2]=a=>e.createOrder())},{default:(0,u.w5)((()=>[r])),_:1}),(0,u.Wm)(v,{modelValue:e.alert,"onUpdate:modelValue":a[3]||(a[3]=a=>e.alert=a),"transition-show":"slide-down"},{default:(0,u.w5)((()=>[(0,u.Wm)(j,null,{default:(0,u.w5)((()=>[(0,u.Wm)(f,{class:"row items-center q-pb-none"},{default:(0,u.w5)((()=>[m,(0,u.Wm)(Q),(0,u.wy)((0,u.Wm)(k,{icon:"close",flat:"",round:"",dense:""},null,512),[[C]])])),_:1}),(0,u.Wm)(f,null,{default:(0,u.w5)((()=>[c])),_:1})])),_:1})])),_:1},8,["modelValue"])])),_:1})}const _=(0,u.aZ)({name:"CreateJumun",data(){return{store_name:"",menuList:[],creator:"",selection:[],jumunja:"",jumun_id:"",alert:!1}},async created(){const e=await this.$supabase.from("jumun_page_master").select("*, store (*)").eq("link_url",this.$route.params.jumunId),a=await this.$supabase.from("users").select("user_name").eq("id",e.data[0].user_id),t=await this.$supabase.from("store").select("*, menus (*)").eq("id",e.data[0].store.id);this.creator=a.data[0].user_name,this.jumun_id=e.data[0].id,this.store_name=t.data[0].store_name,this.menuList=t.data[0].menus},methods:{async createOrder(){if(!this.jumunja)return void(this.alert=!0);const e=this.selection.map((e=>{let a={};return a.jumunja=this.jumunja,a.page_master_id=this.jumun_id,a.menu_id=e,a}));console.log(e);const{data:a,error:t}=await this.$supabase.from("jumun_page").insert(e);console.log(a),console.log(t)},getUser(){let e=this.$supabase.auth.session();console.log(e)},goPage(e){this.$router.push(e)}}});var w=t(4260),h=t(4379),f=t(151),j=t(5589),g=t(4842),W=t(7011),b=t(2350),q=t(3414),Z=t(2035),k=t(1420),Q=t(8240),v=t(6778),U=t(2025),V=t(6489),C=t(677),$=t(7518),y=t.n($);const x=(0,w.Z)(_,[["render",p]]),I=x;y()(_,"components",{QPage:h.Z,QCard:f.Z,QCardSection:j.Z,QInput:g.Z,QList:W.Z,QItemLabel:b.Z,QItem:q.Z,QItemSection:Z.Z,QCheckbox:k.Z,QBtn:Q.Z,QDialog:v.Z,QSpace:U.Z}),y()(_,"directives",{Ripple:V.Z,ClosePopup:C.Z})}}]);