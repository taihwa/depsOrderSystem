"use strict";(self["webpackChunkjumun"]=self["webpackChunkjumun"]||[]).push([[480],{9480:(e,t,a)=>{a.r(t),a.d(t,{default:()=>x});var s=a(3673),l=a(2323);const o={class:"row"},n={class:"col"},r={class:"text-h6"},u=(0,s._)("div",{class:"text-subtitle2"},"aaaaa",-1),i=(0,s.Uk)("주문내역 보기"),c=(0,s.Uk)("주문서 공유하기"),d={class:"text-h6"};function p(e,t,a,p,m,_){const h=(0,s.up)("q-card-section"),w=(0,s.up)("q-separator"),g=(0,s.up)("q-btn"),f=(0,s.up)("q-card-actions"),k=(0,s.up)("q-card"),Z=(0,s.up)("q-space"),b=(0,s.up)("q-dialog"),v=(0,s.up)("q-page"),C=(0,s.Q2)("ripple"),j=(0,s.Q2)("close-popup");return(0,s.wg)(),(0,s.j4)(v,null,{default:(0,s.w5)((()=>[(0,s._)("div",o,[(0,s._)("div",n,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.jumunList,(t=>(0,s.wy)(((0,s.wg)(),(0,s.j4)(k,{class:"my-card",clickable:"",key:t.id},{default:(0,s.w5)((()=>[(0,s.Wm)(h,null,{default:(0,s.w5)((()=>[(0,s._)("div",r,(0,l.zw)(t.store.store_name),1),u])),_:2},1024),(0,s.Wm)(w),(0,s.Wm)(f,{vertical:""},{default:(0,s.w5)((()=>[(0,s.Wm)(g,{outline:"",color:"primary",size:"md",icon:"receipt_long",onClick:a=>e.goPage(`/jumunDetail/${t.id}`)},{default:(0,s.w5)((()=>[i])),_:2},1032,["onClick"]),(0,s.Wm)(g,{outline:"",color:"secondary",size:"md",icon:"share",onClick:a=>e.copyJumun(`${t.link_url}`)},{default:(0,s.w5)((()=>[c])),_:2},1032,["onClick"])])),_:2},1024)])),_:2},1024)),[[C]]))),128))])]),(0,s.Wm)(b,{modelValue:e.alert,"onUpdate:modelValue":t[0]||(t[0]=t=>e.alert=t),"transition-show":"slide-down"},{default:(0,s.w5)((()=>[(0,s.Wm)(k,null,{default:(0,s.w5)((()=>[(0,s.Wm)(h,{class:"row items-center q-pb-none"},{default:(0,s.w5)((()=>[(0,s._)("div",d,(0,l.zw)(e.alert_text),1),(0,s.Wm)(Z),(0,s.wy)((0,s.Wm)(g,{icon:"close",flat:"",round:"",dense:""},null,512),[[j]])])),_:1})])),_:1})])),_:1},8,["modelValue"])])),_:1})}var m=a(9574);const _=(0,s.aZ)({name:"CreateJumun",data(){return{jumunList:[],alert:!1,alert_text:""}},async created(){const e=await this.$supabase.from("jumun_page_master").select("*, store (*)");console.log(e),e.data.forEach((e=>{const t=window.location.host;e.link_url=t+"/#/receip/"+e.link_url})),this.jumunList=e.data},methods:{async createJumun(){console.log(this.selectedStore),console.log((0,m.Z)());let e=this.$supabase.auth.session();const{data:t,error:a}=await this.$supabase.from("jumun_page_master").insert({store_id:this.selectedStore,user_id:e.user.id,link_url:(0,m.Z)()});console.log(t),console.log(a)},getUser(){let e=this.$supabase.auth.session();console.log(e)},copyJumun(e){navigator.clipboard.writeText(e).then((()=>{this.alert=!0,this.alert_text="복사완료"})).catch((e=>{this.alert=!0,this.alert_text="최신 브라우저를 사용해 주세요"}))},goPage(e){this.$router.push(e)}}});var h=a(4260),w=a(4379),g=a(151),f=a(5589),k=a(5869),Z=a(9367),b=a(8240),v=a(6778),C=a(2025),j=a(6489),y=a(677),Q=a(7518),W=a.n(Q);const q=(0,h.Z)(_,[["render",p]]),x=q;W()(_,"components",{QPage:w.Z,QCard:g.Z,QCardSection:f.Z,QSeparator:k.Z,QCardActions:Z.Z,QBtn:b.Z,QDialog:v.Z,QSpace:C.Z}),W()(_,"directives",{Ripple:j.Z,ClosePopup:y.Z})}}]);